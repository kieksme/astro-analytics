# Astro Analytics ‚Äî –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ VS Code [![Version](https://img.shields.io/visual-studio-marketplace/v/kieksme.astro-analytics)](https://marketplace.visualstudio.com/items?itemName=kieksme.astro-analytics)

**–Ø–∑—ã–∫–∏:** [English](README.md) | [Deutsch](README.de.md) | [Fran√ßais](README.fr.md) | [Espa√±ol](README.es.md) | [Italiano](README.it.md) | [Portugu√™s](README.pt.md) | [Nederlands](README.nl.md) | [Polski](README.pl.md) | [–†—É—Å—Å–∫–∏–π](README.ru.md) | [ÁÆÄ‰Ωì‰∏≠Êñá](README.zh-cn.md) | [Êó•Êú¨Ë™û](README.ja.md) | [‡§π‡§ø‡§®‡•ç‡§¶‡•Ä](README.hi.md) | [ÌïúÍµ≠Ïñ¥](README.ko.md) | [Indonesia](README.id.md) | [Ti·∫øng Vi·ªát](README.vi.md) | [‡πÑ‡∏ó‡∏¢](README.th.md) | [‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ](README.bn.md)

> üßë‚ÄçüöÄ –ù–µ –∑–Ω–∞–µ—Ç–µ, —á—Ç–æ —Ç–∞–∫–æ–µ Astro? –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [astro.build](https://astro.build).

**–ò–∑–¥–∞—Ç–µ–ª—å:** kieks.me GbR

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ Google Analytics GA4 –ø—Ä—è–º–æ –≤ VS Code –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–∞–π–ª–æ–≤ Astro Markdown –∏–ª–∏ `.astro`.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **CodeLens** –≤ –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ `.md`/`.mdx`/`.astro` —Å –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–º –æ—Ç–∫–∞–∑–æ–≤, –ø—Ä–æ—Å–º–æ—Ç—Ä–∞–º–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é —Å–µ—Å—Å–∏–∏
- **–ü—Ä–æ–≤–æ–¥–Ω–∏–∫** ‚Äî –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å –æ—Ç–∫–∞–∑–æ–≤ —Ä—è–¥–æ–º —Å –∏–º–µ–Ω–∞–º–∏ —Ñ–∞–π–ª–æ–≤ –≤ –¥–µ—Ä–µ–≤–µ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (–±–µ–π–¥–∂ + –ø–æ–¥—Å–∫–∞–∑–∫–∞)
- **–í—Å–ø–ª—ã–≤–∞—é—â–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞** —Å –ø–æ–ª–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ–π –º–µ—Ç—Ä–∏–∫ (–Ω–∞–≤–µ–¥–∏—Ç–µ –Ω–∞ –ø–µ—Ä–≤—ã–µ —Å—Ç—Ä–æ–∫–∏ —Ñ–∞–π–ª–∞)
- **–°—Ç—Ä–æ–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è** –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É —Å –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–º –æ—Ç–∫–∞–∑–æ–≤ –æ—Ç–∫—Ä—ã—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (TTL 5 –º–∏–Ω), —Ä—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ –∫–ª–∏–∫—É

## –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è –æ—Ç–∫–∞–∑–æ–≤

–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –æ—Ç–∫–∞–∑–æ–≤ —Ü–≤–µ—Ç–Ω—ã–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏ (–∑–µ–ª—ë–Ω—ã–π / –∂—ë–ª—Ç—ã–π / –æ—Ä–∞–Ω–∂–µ–≤—ã–π / –∫—Ä–∞—Å–Ω—ã–π) –≤ CodeLens, –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–µ, –ø–æ–¥—Å–∫–∞–∑–∫–µ, —Å—Ç—Ä–æ–∫–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –ø–∞–Ω–µ–ª–∏:

| –£—Ä–æ–≤–µ–Ω—å | –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å –æ—Ç–∫–∞–∑–æ–≤ |
|---------|--------------------|
| üü¢ | < 25 % ‚Äî –û—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ |
| üü° | 25‚Äì44 % ‚Äî –•–æ—Ä–æ—à–æ |
| üü† | 45‚Äì64 % ‚Äî –°—Ä–µ–¥–Ω–µ |
| üî¥ | ‚â• 65 % ‚Äî –¢—Ä–µ–±—É–µ—Ç —É–ª—É—á—à–µ–Ω–∏—è |

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —É—á—ë—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–†–∞—Å—à–∏—Ä–µ–Ω–∏—é –Ω—É–∂–Ω—ã Google Application Default Credentials —Å –æ–±–ª–∞—Å—Ç—å—é `analytics.readonly`.

–ï—Å–ª–∏ –∏—Ö –µ—â—ë –Ω–µ—Ç, —Å–æ–∑–¥–∞–π—Ç–µ ADC. –í–∏–¥–µ–æ–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: [Authenticate with GCP using gcloud auth application-default login](https://www.youtube.com/watch?v=5utoA5gnKQ4).

```bash
gcloud auth application-default login \
  --scopes https://www.googleapis.com/auth/analytics.readonly,https://www.googleapis.com/auth/cloud-platform \
  --client-id-file=~/Certificates/gcp/internal-dev.json
```

–ü—É—Ç—å –∫ —Å–æ–∑–¥–∞–Ω–Ω–æ–º—É —Ñ–∞–π–ª—É —É—á—ë—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å:

```text
Credentials saved to file: [~/.config/gcloud/application_default_credentials.json]
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

–í VS Code: `Cmd+,` ‚Üí –ø–æ–∏—Å–∫ **Astro Analytics**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|----------|--------------|
| `astroAnalytics.propertyId` | ID —Ä–µ—Å—É—Ä—Å–∞ GA4 (—á–∏—Å–ª–æ–≤–æ–π) | `364493652` |
| `astroAnalytics.credentialsPath` | –ü—É—Ç—å –∫ JSON —É—á—ë—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö | (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ADC) |
| `astroAnalytics.lookbackDays` | –ü–µ—Ä–∏–æ–¥ –≤ –¥–Ω—è—Ö | `30` |
| `astroAnalytics.contentRoot` | –ü–∞–ø–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ Astro | `src/content` |
| `astroAnalytics.pagesRoot` | –ü–∞–ø–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü Astro | `src/pages` |

–ü—Ä–∏–º–µ—Ä `settings.json`:

```json
{
  "astroAnalytics.propertyId": "364493652",
  "astroAnalytics.credentialsPath": "~/.config/gcloud/application_default_credentials.json",
  "astroAnalytics.lookbackDays": 90,
  "astroAnalytics.contentRoot": "src/content",
  "astroAnalytics.pagesRoot": "src/pages"
}
```

### 3. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ URL-slug

–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ–ª—É—á–∞–µ—Ç `pagePath` GA4 –∏–∑ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª—É:

```text
src/content/blog/datenstrategie-ki.md  ‚Üí  /blog/datenstrategie-ki/
src/content/karriere/index.md          ‚Üí  /karriere/
src/pages/blog/my-post.astro           ‚Üí  /blog/my-post/
src/pages/index.astro                  ‚Üí  /
```

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã** (`[slug].astro`, `[...slug].astro`, `[slug]/[id].astro`):

- –í **–ø–∞–Ω–µ–ª–∏** –ø—É—Ç—å GA4 –≤—Ä–æ–¥–µ `/blog/` –º–æ–∂–µ—Ç —Ä–∞–∑—Ä–µ—à–∞—Ç—å—Å—è –≤ —Ñ–∞–π–ª –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞ (–Ω–∞–ø—Ä. `src/pages/[slug].astro`), –µ—Å–ª–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ñ–∞–π–ª–∞ –Ω–µ—Ç.
- –ü—Ä–∏ **–æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–∞–π–ª–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞** —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **–∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ** –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –æ—Ç–∫–∞–∑–æ–≤, –ø—Ä–æ—Å–º–æ—Ç—Ä—ã, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–µ—Å—Å–∏–∏ –¥–ª—è –≤—Å–µ—Ö –ø—É—Ç–µ–π GA4, —Å–æ–≤–ø–∞–¥–∞—é—â–∏—Ö —Å —ç—Ç–∏–º –º–∞—Ä—à—Ä—É—Ç–æ–º.

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö

–ï—Å–ª–∏ –º–µ—Ç—Ä–∏–∫–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è (CodeLens –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç ¬´no data¬ª –∏–ª–∏ —Å—Ç—Ä–æ–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—É—Å—Ç–∞):

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É** ‚Äî `Cmd+Shift+P` ‚Üí **¬´Astro Analytics: Test API Connection¬ª**. –ú–æ–∂–Ω–æ —Ç–∞–∫–∂–µ **¬´Astro Analytics: Open Dashboard¬ª**.
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Äî –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–¥–∞–Ω `astroAnalytics.propertyId` –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ `astroAnalytics.credentialsPath` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤–∞—à JSON —É—á—ë—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ slug** ‚Äî `pagePath` GA4 –∏ slug —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∑–∞–≤–µ—Ä—à–∞—é—â–∏–π —Å–ª—ç—à (–Ω–∞–ø—Ä. `/blog/my-post/`). –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –ø—É—Ç–∏ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ.
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞–Ω–∞–ª Output** ‚Äî –û—à–∏–±–∫–∏ API –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–∞–º –∏ –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–∏.

**–ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ ¬´Astro Analytics: Test API Connection¬ª –Ω–µ –Ω–∞–π–¥–µ–Ω–∞:** –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –æ–∫–Ω–æ. –°–º. [CONTRIBUTING.md](CONTRIBUTING.md).

## –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–æ –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö —è–∑—ã–∫–æ–≤. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–ª–µ–¥—É–µ—Ç —è–∑—ã–∫—É –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è VS Code –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–∞:

| –Ø–∑—ã–∫ | Locale |
|------|--------|
| English | `en` |
| Deutsch | `de` |
| Fran√ßais | `fr` |
| Espa√±ol | `es` |
| Italiano | `it` |
| Portugu√™s | `pt` |
| Nederlands | `nl` |
| Polski | `pl` |
| –†—É—Å—Å–∫–∏–π | `ru` |
| ÁÆÄ‰Ωì‰∏≠Êñá | `zh-cn` |
| Êó•Êú¨Ë™û | `ja` |
| ‡§π‡§ø‡§®‡•ç‡§¶‡•Ä | `hi` |
| ÌïúÍµ≠Ïñ¥ | `ko` |
| Indonesia | `id` |
| Ti·∫øng Vi·ªát | `vi` |
| ‡πÑ‡∏ó‡∏¢ | `th` |
| ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ | `bn` |

–ü–µ—Ä–µ–≤–æ–¥—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `package.nls.*.json` (UI) –∏ `l10n/bundle.l10n.*.json` (—Å–æ–æ–±—â–µ–Ω–∏—è –∏ –ø–∞–Ω–µ–ª—å).

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–∑ [VS Code Marketplace](https://marketplace.visualstudio.com/items?itemName=kieksme.astro-analytics) –∏–ª–∏ –∏–∑ —Ñ–∞–π–ª–∞ `.vsix` (`Cmd+Shift+P` ‚Üí **¬´Install from VSIX...¬ª**). –°–±–æ—Ä–∫–∞ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤: [CONTRIBUTING.md](CONTRIBUTING.md).
